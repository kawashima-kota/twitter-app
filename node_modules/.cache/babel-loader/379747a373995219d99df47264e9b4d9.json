{"ast":null,"code":"import React,{useEffect}from\"react\";import styles from\"./App.module.css\";import{useSelector,useDispatch}from\"react-redux\";import{selectUser,login,logout}from\"./features/userSlice\";import{auth}from\"./firebase/index\";import Feed from\"./components/Feed\";import Auth from\"./components/Auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var user=useSelector(selectUser);var dispatch=useDispatch();useEffect(function(){var unSub=auth.onAuthStateChanged(function(authUser){if(authUser){dispatch(login({uid:authUser.uid,photoUrl:authUser.photoURL,displayName:authUser.displayName}));}else{dispatch(logout());}});return function(){unSub();};},[dispatch]);return/*#__PURE__*/_jsx(_Fragment,{children:user.uid?/*#__PURE__*/_jsx(\"div\",{className:styles.app,children:/*#__PURE__*/_jsx(Feed,{})}):/*#__PURE__*/_jsx(Auth,{})});};export default App;","map":{"version":3,"sources":["/Users/kawashimakouta/Desktop/react-projects/twitter-app/src/App.tsx"],"names":["React","useEffect","styles","useSelector","useDispatch","selectUser","login","logout","auth","Feed","Auth","App","user","dispatch","unSub","onAuthStateChanged","authUser","uid","photoUrl","photoURL","displayName","app"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,CAAqBC,KAArB,CAA4BC,MAA5B,KAA0C,sBAA1C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,C,gGAEA,GAAMC,CAAAA,GAAa,CAAG,QAAhBA,CAAAA,GAAgB,EAAM,CAC1B,GAAMC,CAAAA,IAAI,CAAGT,WAAW,CAACE,UAAD,CAAxB,CACA,GAAMQ,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CAEAH,SAAS,CAAC,UAAM,CACd,GAAMa,CAAAA,KAAK,CAAGN,IAAI,CAACO,kBAAL,CAAwB,SAAAC,QAAQ,CAAI,CAChD,GAAIA,QAAJ,CAAc,CACZH,QAAQ,CACNP,KAAK,CAAC,CACJW,GAAG,CAAED,QAAQ,CAACC,GADV,CAEJC,QAAQ,CAAEF,QAAQ,CAACG,QAFf,CAGJC,WAAW,CAAEJ,QAAQ,CAACI,WAHlB,CAAD,CADC,CAAR,CAOD,CARD,IAQO,CACLP,QAAQ,CAACN,MAAM,EAAP,CAAR,CACD,CACF,CAZa,CAAd,CAaA,MAAO,WAAM,CACXO,KAAK,GACN,CAFD,CAGD,CAjBQ,CAiBN,CAACD,QAAD,CAjBM,CAAT,CAmBA,mBACE,yBACGD,IAAI,CAACK,GAAL,cACC,YAAK,SAAS,CAAEf,MAAM,CAACmB,GAAvB,uBACE,KAAC,IAAD,IADF,EADD,cAKC,KAAC,IAAD,IANJ,EADF,CAWD,CAlCD,CAoCA,cAAeV,CAAAA,GAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport styles from \"./App.module.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { selectUser, login, logout } from \"./features/userSlice\";\r\nimport { auth } from \"./firebase/index\";\r\nimport Feed from \"./components/Feed\";\r\nimport Auth from \"./components/Auth\";\r\n\r\nconst App: React.FC = () => {\r\n  const user = useSelector(selectUser);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const unSub = auth.onAuthStateChanged(authUser => {\r\n      if (authUser) {\r\n        dispatch(\r\n          login({\r\n            uid: authUser.uid,\r\n            photoUrl: authUser.photoURL,\r\n            displayName: authUser.displayName\r\n          })\r\n        );\r\n      } else {\r\n        dispatch(logout());\r\n      }\r\n    });\r\n    return () => {\r\n      unSub();\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      {user.uid ? (\r\n        <div className={styles.app}>\r\n          <Feed />\r\n        </div>\r\n      ) : (\r\n        <Auth />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}