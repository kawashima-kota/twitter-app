{"ast":null,"code":"import _slicedToArray from\"/Users/kawashimakouta/Desktop/react-projects/twitter-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/kawashimakouta/Desktop/react-projects/twitter-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kawashimakouta/Desktop/react-projects/twitter-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState}from'react';import styles from'./Auth.module.css';import{useDispatch}from'react-redux';import{auth,provider}from'../firebase/index';import{Avatar,Button,CssBaseline,TextField,Paper,Grid,Typography,makeStyles}from\"@material-ui/core\";import EmailIcon from\"@material-ui/icons/Email\";import LockOutlinedIcon from\"@material-ui/icons/LockOutlined\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{height:'100vh'},image:{backgroundImage:'url(https://images.unsplash.com/photo-1581784368651-8916092072cf?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80)',backgroundRepeat:'no-repeat',backgroundColor:theme.palette.type==='light'?theme.palette.grey[50]:theme.palette.grey[900],backgroundSize:'cover',backgroundPosition:'center'},paper:{margin:theme.spacing(8,4),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});var Auth=function Auth(){var classes=useStyles();var dispatch=useDispatch();var signInGoogle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return auth.signInWithPopup(provider).catch(function(err){return alert(err.message);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function signInGoogle(){return _ref.apply(this,arguments);};}();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLogin=_useState6[0],setIsLogin=_useState6[1];var signInEmail=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return auth.signInWithEmailAndPassword(email,password);case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function signInEmail(){return _ref2.apply(this,arguments);};}();var signUpEmail=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return auth.createUserWithEmailAndPassword(email,password);case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function signUpEmail(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Grid,{container:true,component:\"main\",className:classes.root,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Grid,{item:true,xs:false,sm:4,md:7,className:classes.image}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,md:5,component:Paper,elevation:6,square:true,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,value:email,onChange:function onChange(e){setEmail(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:password,onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,startIcon:/*#__PURE__*/_jsx(EmailIcon,{}),onClick:isLogin?/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return signInEmail();case 3:_context4.next=8;break;case 5:_context4.prev=5;_context4.t0=_context4[\"catch\"](0);alert(_context4.t0.message);case 8:case\"end\":return _context4.stop();}}},_callee4,null,[[0,5]]);})):/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return signUpEmail();case 3:_context5.next=8;break;case 5:_context5.prev=5;_context5.t0=_context5[\"catch\"](0);alert(_context5.t0.message);case 8:case\"end\":return _context5.stop();}}},_callee5,null,[[0,5]]);})),children:isLogin?\"Login\":\"Register\"}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(\"span\",{className:styles.login_reset,children:\"Forgot Password ?\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(\"span\",{className:styles.login_toggleMode,onClick:function onClick(){return setIsLogin(!isLogin);},children:isLogin?\"Create new account ?\":\"Back to login\"})})]}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:signInGoogle,children:\"Sign In with Google\"})]})]})})]});};export default Auth;","map":{"version":3,"sources":["/Users/kawashimakouta/Desktop/react-projects/twitter-app/src/components/Auth.tsx"],"names":["React","useState","styles","useDispatch","auth","provider","Avatar","Button","CssBaseline","TextField","Paper","Grid","Typography","makeStyles","EmailIcon","LockOutlinedIcon","useStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","Auth","classes","dispatch","signInGoogle","signInWithPopup","catch","err","alert","message","email","setEmail","password","setPassword","isLogin","setIsLogin","signInEmail","signInWithEmailAndPassword","signUpEmail","createUserWithEmailAndPassword","e","target","value","login_reset","login_toggleMode"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport styles from './Auth.module.css'\nimport {useDispatch} from 'react-redux'\nimport {auth,provider,storage} from '../firebase/index'\n\nimport {\n  Avatar,\n  Button,\n  CssBaseline,\n  TextField,\n  Paper,\n  Grid,\n  Typography,\n  makeStyles,\n  Modal,\n  IconButton,\n  Box,\n} from \"@material-ui/core\";\n\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CameraIcon from \"@material-ui/icons/Camera\";\nimport EmailIcon from \"@material-ui/icons/Email\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  image: {\n    backgroundImage: 'url(https://images.unsplash.com/photo-1581784368651-8916092072cf?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst Auth:React.FC = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const signInGoogle = async () => {\n    await auth.signInWithPopup(provider).catch((err) => alert(err.message));\n  };\n  const [email,setEmail] = useState(\"\");\n  const [password,setPassword] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(true);\n\n  const signInEmail = async () => {\n    await auth.signInWithEmailAndPassword(email,password);\n  };\n  const signUpEmail = async () => {\n    await auth.createUserWithEmailAndPassword(email,password);\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              value={email}\n              onChange={\n                (e:React.ChangeEvent<HTMLInputElement>) => {\n                  setEmail(e.target.value)\n                }\n              }\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={password}\n              onChange ={\n                (e:React.ChangeEvent<HTMLInputElement>)=>{\n                  setPassword(e.target.value)\n                }\n              }\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              startIcon={<EmailIcon />}\n              onClick={\n                isLogin ? async () =>{\n                  try{\n                    await signInEmail();\n                  }catch(err){\n                    alert(err.message);\n                  }\n                } : async () => {\n                  try{\n                    await signUpEmail();\n                  }catch(err){\n                    alert(err.message);\n                  }\n                }\n              }\n            >\n            {isLogin ? \"Login\" : \"Register\"}\n            </Button>\n            <Grid container>\n              <Grid item xs>\n                <span className={styles.login_reset}>\n                  Forgot Password ?\n                </span>\n              </Grid>\n              <Grid item xs>\n                <span className={styles.login_toggleMode} onClick={()=> setIsLogin(!isLogin)}>\n                {isLogin ? \"Create new account ?\" : \"Back to login\"}\n                </span>\n              </Grid>\n            </Grid>\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick = {signInGoogle}\n            >\n              Sign In with Google\n            </Button>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default Auth;"]},"metadata":{},"sourceType":"module"}